"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6361],{86361:function(e,o,n){n.d(o,{Z:function(){return S},F:function(){return j}});var i=n(80051),t=n(38194),l=n(43480),r=n(56832),s=n(98828),d=n(8131),a=n.n(d),u=n(5966),c=n(69799),v=n(34885),p=n(17182),m=n(52035),g=n(3238),f=n(62217),h=n(7583),b=function(e){var o,n,t,l,r,s,d,a,u,c,v,p,m,b,w,k,y,j,S,Z,C,T,x,z,O,V,R,E,I,_,L,N,M,P,A,B,F,G,X=e.theme,D=e.reviewsCountBottom,H=e.ratingSize,q=e.hasClick,U={small:{dimensions:{mobile:80,desktop:80},fontSize:{mobile:12,desktop:12}},normal:{dimensions:{mobile:80,desktop:100},fontSize:{mobile:12,desktop:15}},large:{dimensions:{mobile:160,desktop:160},fontSize:{mobile:15,desktop:15}},medium:{dimensions:{mobile:120,desktop:120},fontSize:{mobile:12,desktop:15}}};return(0,h.Z)((0,i.Z)({position:"relative",fontSize:0,display:"flex",alignItems:"center",flexWrap:"wrap",flexDirection:"row",fontFamily:X.typography.defaults.fontFamily},D&&{flexDirection:"column",alignItems:"unset"},q&&{cursor:"pointer"}),{"& .reviewsRating":(G={flexShrink:0,display:"inline-block",position:"relative",width:(0,g.Vj)(null===(o=U[H])||void 0===o||null===(n=o.dimensions)||void 0===n?void 0:n.mobile),height:(0,g.Vj)((null===(t=U[H])||void 0===t||null===(l=t.dimensions)||void 0===l?void 0:l.mobile)/5),overflow:"hidden"},(0,f.Z)(G,X.breakpoints.up("md"),{width:(0,g.Vj)(null===(r=U[H])||void 0===r||null===(s=r.dimensions)||void 0===s?void 0:s.desktop),height:(0,g.Vj)((null===(d=U[H])||void 0===d||null===(a=d.dimensions)||void 0===a?void 0:a.desktop)/5)}),(0,f.Z)(G,"&::before",(0,f.Z)({content:'""',display:"block",position:"absolute",left:0,right:0,top:0,bottom:0,width:(0,g.Vj)(null===(u=U[H])||void 0===u||null===(c=u.dimensions)||void 0===c?void 0:c.mobile),height:(0,g.Vj)((null===(v=U[H])||void 0===v||null===(p=v.dimensions)||void 0===p?void 0:p.mobile)/5),backgroundRepeat:"repeat-x",backgroundSize:(0,g.Vj)((null===(m=U[H])||void 0===m||null===(b=m.dimensions)||void 0===b?void 0:b.mobile)/5),backgroundImage:"url(\"data:image/svg+xml,%3csvg width='32' height='32' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M19.747 11.493l9.587.827-7.267 6.307L24.24 28 16 23.027 7.76 28l2.187-9.373-7.28-6.307 9.587-.813L16 2.667l3.747 8.826zm-1.465 2.017l5.838.504-4.425 3.843 1.323 5.713L16 20.539l-5.018 3.031 1.332-5.713-4.434-3.843 5.838-.496L16 8.13l2.282 5.38z' fill='%23ee7470' /%3e%3c/svg%3e\")"},X.breakpoints.up("md"),{width:(0,g.Vj)(null===(w=U[H])||void 0===w||null===(k=w.dimensions)||void 0===k?void 0:k.desktop),height:(0,g.Vj)((null===(y=U[H])||void 0===y||null===(j=y.dimensions)||void 0===j?void 0:j.desktop)/5),backgroundSize:(0,g.Vj)((null===(S=U[H])||void 0===S||null===(Z=S.dimensions)||void 0===Z?void 0:Z.desktop)/5)})),(0,f.Z)(G,"& > span",(F={display:"block",height:(0,g.Vj)((null===(C=U[H])||void 0===C||null===(T=C.dimensions)||void 0===T?void 0:T.mobile)/5),position:"absolute",textIndent:"-10000px",overflow:"hidden"},(0,f.Z)(F,X.breakpoints.up("md"),{height:(0,g.Vj)((null===(x=U[H])||void 0===x||null===(z=x.dimensions)||void 0===z?void 0:z.desktop)/5)}),(0,f.Z)(F,"&::before",(0,f.Z)({content:'""',display:"block",position:"absolute",left:0,right:0,top:0,bottom:0,height:(0,g.Vj)((null===(O=U[H])||void 0===O||null===(V=O.dimensions)||void 0===V?void 0:V.mobile)/5),textIndent:"10000px",backgroundRepeat:"repeat-x",backgroundSize:(0,g.Vj)((null===(R=U[H])||void 0===R||null===(E=R.dimensions)||void 0===E?void 0:E.mobile)/5),backgroundImage:"url(\"data:image/svg+xml,%3csvg width='32' height='32' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M19.747 11.493l9.587.827-7.267 6.307L24.24 28 16 23.027 7.76 28l2.187-9.373-7.28-6.307 9.587-.813L16 2.667l3.747 8.826z' fill='%23ee7470' /%3e%3c/svg%3e\")"},X.breakpoints.up("md"),{height:(0,g.Vj)((null===(I=U[H])||void 0===I||null===(_=I.dimensions)||void 0===_?void 0:_.desktop)/5),backgroundSize:(0,g.Vj)((null===(L=U[H])||void 0===L||null===(N=L.dimensions)||void 0===N?void 0:N.desktop)/5)})),F)),(0,f.Z)(G,"&_total",(0,f.Z)({fontSize:(0,g.Vj)(null===(M=U[H])||void 0===M||null===(P=M.fontSize)||void 0===P?void 0:P.mobile),lineHeight:1,opacity:.64,color:X.palette.common.black,padding:(0,g.FY)([0,4]),textTransform:"lowercase"},X.breakpoints.up("md"),(0,h.Z)((0,i.Z)({padding:(0,g.FY)([2,4,0])},"small"===H&&{paddingTop:(0,g.Vj)(0)}),{fontSize:(0,g.Vj)(null===(A=U[H])||void 0===A||null===(B=A.fontSize)||void 0===B?void 0:B.desktop)}))),G)})},w=c.Z.common,k=(0,r.Z)("div",{target:"e1gsfhkj0"})((function(e){return(0,i.Z)({},b(e))})),y=function(e){var o,n=e.t,i=e.className,t=e.productIds,r=e.rating,d=e.size,a=e.reviewsCount,c=e.reviewsCountPrefix,p=e.reviewsCountBottom,f=e.isStarsOnly,h=e.scrollTargetRef,b=e.onClick,w=(0,v.useContext)(u.Z),y=Array.isArray(w)?w:t,j="function"===typeof b,S=(0,s.Z)((function(e,o){return(0,m.qt)(o)}),["reviews","summary",y],{productIds:y},{enabled:!!(null===y||void 0===y?void 0:y.length),staleTime:1/0}),Z=S.status,C=S.data,T=(0,v.useMemo)((function(){return!(null===y||void 0===y?void 0:y.length)||r||a?{rating:r,reviewsCount:a}:C||{}}),[C,y.join(","),r,a]),x=(o=null===T||void 0===T?void 0:T.rating,Math.round(2*o)/2);return"loading"!==Z&&(0,g.kE)(null===T||void 0===T?void 0:T.rating)?(0,l.BX)(k,{as:((null===h||void 0===h?void 0:h.current)||j)&&"button",title:(null===h||void 0===h?void 0:h.current)||j?"View reviews":void 0,reviewsCountBottom:p,ratingSize:d,hasClick:(null===h||void 0===h?void 0:h.current)||j,className:i,onClick:function(e){if(j&&b(e),null===h||void 0===h?void 0:h.current){var o=h.current.getBoundingClientRect().top+window.pageYOffset+-30;window.scrollTo({top:o,behavior:"smooth"})}},"aria-label":"Rated ".concat(null===T||void 0===T?void 0:T.rating.toFixed(1)," out of 5 stars"),children:[(0,l.tZ)("div",{className:"reviewsRating",children:(0,l.tZ)("span",{style:{width:"".concat(x/5*100,"%")}})}),(null===T||void 0===T?void 0:T.reviewsCount)&&!f&&(0,l.BX)("div",{className:"reviewsRating_total","aria-label":"".concat(null===T||void 0===T?void 0:T.reviewsCount," ").concat(n("content.label.reviews")),children:[c&&n("based-on")," ",null===T||void 0===T?void 0:T.reviewsCount," ",n("content.label.reviews")]})]}):null},j=Object.freeze({NORMAL:"normal",SMALL:"small",LARGE:"large",MEDIUM:"medium"});y.propTypes={t:a().func.isRequired,className:a().string,productIds:a().arrayOf(a().oneOfType([a().string,a().number])),rating:a().oneOfType([a().string,a().number]),size:a().oneOf((0,t.Z)(Object.values(j))),reviewsCount:a().oneOfType([a().string,a().number]),reviewsCountPrefix:a().bool,reviewsCountBottom:a().bool,isStarsOnly:a().bool,onClick:a().func,scrollTargetRef:a().oneOfType([a().array,a().object])},y.defaultProps={className:void 0,productIds:[],rating:void 0,size:j.NORMAL,reviewsCount:void 0,reviewsCountPrefix:!1,reviewsCountBottom:!1,onClick:void 0,isStarsOnly:!1,scrollTargetRef:void 0};var S=(0,p.Z)(w)(y)},5966:function(e,o,n){var i=(0,n(34885).createContext)();o.Z=i},52035:function(e,o,n){n.d(o,{Jh:function(){return m},Jv:function(){return p},dz:function(){return f},qt:function(){return g}});var i=n(40844),t=n(38194),l=n(84719),r=n(61130),s=n(32977),d=n(91261),a=n(72927),u=n.n(a)()(),c=u.Sentry,v=u.captureException,p=Object.freeze({FEATURED:"featured",HIGHEST_RATING:"highest-rating",LOWEST_RATING:"lowest-rating",PHOTOS:"photos",MOST_VOTES:"most-votes"}),m=function(){var e=(0,i.Z)((function(){var e,o,n,i,t,a,u,p,m,g,f,h,b,w,k=arguments;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:e=k.length>0&&void 0!==k[0]?k[0]:{},o=e.productId,n=e.page,i=e.perPage,t=e.sort,a=e.onlyPhotos,u=e.minRating,m=(null===(p=(0,r.g2)(o))||void 0===p?void 0:p.id)||o,g=new URLSearchParams,f={page:n,perPage:i,sort:t,onlyPhotos:a,minRating:u},Object.keys(f).forEach((function(e){f[e]&&g.append(e,f[e])})),l.label=1;case 1:return l.trys.push([1,4,,5]),[4,(0,s.Z)("".concat(d.X,"/reviews").concat(m?"/".concat(m):"","?").concat(g.toString()),{method:"GET",headers:{"Content-Type":"application/json"}})];case 2:return[4,(h=l.sent()).json()];case 3:if(b=l.sent(),!h.ok)throw new Error(b.message);return[2,{data:b,total:+h.headers.get("x-total-count")||b.length}];case 4:throw w=l.sent(),c.withScope((function(e){e.setTag("api_v2",!0),e.setTag("reviews",!0),v(w)})),w;case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)((function(e){var o,n,i,t,r;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:o=e.productIds,l.label=1;case 1:if(l.trys.push([1,4,,5]),!o.length)throw new Error("No productIds provided!");return n="".concat(d.X,"/reviews/").concat(o.join(","),"/summary"),1===o.length&&"*"===o[0]&&(n="".concat(d.X,"/reviews/summary")),[4,(0,s.Z)(n,{method:"GET",headers:{"Content-Type":"application/json"}})];case 2:return[4,(i=l.sent()).json()];case 3:if(t=l.sent(),!i.ok)throw new Error(t.message);return[2,t];case 4:throw r=l.sent(),c.withScope((function(e){e.setTag("api_v2",!0),e.setTag("reviews",!0),v(r)})),r;case 5:return[2]}}))}));return function(o){return e.apply(this,arguments)}}(),f=function(e,o){var n=o.getState().bcStore[e];return Object.keys(n||{}).reduce((function(e,o){var i=n[o],l="".concat(i,":").concat(o);return(0,t.Z)(e).concat([l])}),[])}}}]);
//# sourceMappingURL=6361-bfd26e1fe0e36c62.js.map